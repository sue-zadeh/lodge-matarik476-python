{% extends 'base.html' %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="container">
  <h1 class="text-center text-success mb-4 mt-4" data-aos="fade-right">Manage My Profile</h1>

  <form action="{{ url_for('edit_profile') }}" method="POST"
        enctype="multipart/form-data"
        class="bg-dark text-light p-4 rounded-3 shadow-lg"
        style="max-width: 600px; margin: 0 auto;">
    
    <div class="mb-3">
      <label for="username" class="form-label" data-aos="fade-down-right">Username</label>
      <input type="text" class="form-control" id="username"
             name="username" value="{{ user['username'] }}" >
    </div>

    <div class="mb-3">
      <label for="fname" class="form-label" data-aos="fade-left">First Name</label>
      <input type="text" class="form-control" id="fname"
             name="fname" value="{{ user['first_name'] }}" >
    </div>

    <div class="mb-3">
      <label for="lname" class="form-label" data-aos="fade-down-right">Last Name</label>
      <input type="text" class="form-control" id="lname"
             name="lname" value="{{ user['last_name'] }}" >
    </div>

    <div class="mb-3">
      <label for="email" class="form-label" data-aos="fade-down-left">Email</label>
      <input type="email" class="form-control" id="email"
             name="email" value="{{ user['email'] }}" required>
    </div>
<div class="mb-3">
  <label for="phone" class="form-label" data-aos="fade-down-right">Phone</label>
  <input type="text" class="form-control" id="phone"
         name="phone" value="{{ user['phone'] }}">
</div>
<div class="mb-3">
  <label class="form-label" data-aos="fade-down-right">Address</label>
  <input type="text" class="form-control" name="address"  id="address" value="{{ user.address}}" required>
</div>

    <div class="mb-3">
      <label for="birth_date" class="form-label" data-aos="fade-left">Date of Birth</label>
      <input type="date" class="form-control" id="birth_date"
             name="birth_date" value="{{ user['birth_date'] }}">
    </div>

    <div class="mb-3">
      <label for="profile_image" class="form-label" data-aos="fade-down-right">Profile Picture</label>
      <input type="file" class="form-control" id="profile_image" name="profile_image">
      {% if user.profile_image %}
  <img src="{{ url_for('static', filename='uploads/' ~ user.profile_image) }}"
       alt="Profile image"
       class="img-fluid mt-3 rounded-circle"
       style="max-width: 120px;">
{% endif %}

    </div>

    <div class="row mt-4">
      <div class="col-md-6">
        <button type="button" class="btn btn-outline-secondary w-100 " data-aos="fade-down-right"
                onclick="window.history.back()">Cancel</button>
      </div>
      <div class="col-md-6">
        <button type="submit" class="btn btn-warning w-100" data-aos="fade-down-left">
          Save Changes
        </button>
      </div>
    </div>
  </form>

  <div class="row mt-4">
    <div class="col-md-12 text-center">
      <a href="{{ url_for('change_password') }}" class="btn btn-outline-light" data-aos="fade-down-bottom">
        <i class="fas fa-key"></i> Change Password
      </a>
    </div>
  </div>
</div>
{% endblock %}
